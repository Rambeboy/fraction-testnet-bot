const _0x58bb51=_0x5442;function _0x2adb(){const _0x452844=['message','...\x20Attempt\x20','EXPLORER','acc','address','\x20Accounts\x20But\x20Provide\x20','Initiate\x20Matchmarking\x20For\x20Agent\x20','includes','\x20attempts.','matchmakingStatus','504','reason','329BJxSOK','Executing\x20TX...','https://dapp-backend-large.fractionai.xyz/api2/matchmaking/initiate','JsonRpcProvider','Tx\x20Executed\x20and\x20Confirmed\x20\x0a','Balance\x20updated','tx/','indexOf','length','\x20Proxy','Sign\x20In\x20To\x20Fraction\x20AI\x20DAPPS','3FEcWUx','sessioinType','https://dapp-backend-large.fractionai.xyz/api2/agents/user/','CONTRACTADDRESS','pending','formatEther','code','data','error','check-in','name','nonce','checkIn','getOptimalNonce','delay','\x20of\x20','toISOString','https://dapp-backend-large.fractionai.xyz/api2/auth/nonce','18nTFfZm','hash','1720530CAenHQ','populateTransaction','buildTxBody','1.5','\x0a\x0aSign\x20in\x20with\x20your\x20wallet\x20to\x20Neural\x20Arena.\x0a\x0aURI:\x20https://dapp.fractionai.xyz\x0aVersion:\x201\x0aChain\x20ID:\x2011155111\x0aNonce:\x20','accessToken','TX\x20DATA\x20','Invalid\x20account\x20Secret\x20Phrase\x20or\x20Private\x20Key','getTransactionCount','Wallet','Getting\x20Session\x20Type\x20List...','fetch','ENTRYFEE','ABI','You\x20Have\x20','Agent\x20','parseUnits','POST','Tx\x20Executed\x20Waiting\x20For\x20Block\x20Confirmation...','Successfully\x20Get\x20Session\x20Type\x20List...','2087240dRHFpC','Account\x20Type\x20:\x20','estimateGas','Trying\x20to\x20check\x20In...','serializeBigInt','CHAINID','token','latest','agentList','\x20:\x20','GET','wallet','sendTransaction','user','estimateGasWithRetry','matchmarking','Getting\x20User\x20Agent\x20List...','provider','36174QkEyEm','getSessionTypeList','842312moRnCG','getBalance','1043954LXbZDB','info','Matchmarking\x20For\x20Agent\x20','\x0aIssued\x20At:\x20','741128CazvuC','5000130VJLGzW','fromPhrase','determineType','Estimating\x20Gas\x20for\x20','gwei','refreshToken','Tx\x20Executed\x20\x0a','Failed\x20to\x20estimate\x20gas\x20after\x20','stringify','executeTx','connectWallet','Getting\x20Wallet\x20Balance\x20of\x20','Wallet\x20connected\x20'];_0x2adb=function(){return _0x452844;};return _0x2adb();}(function(_0x4f1024,_0x1408a6){const _0xd26737=_0x5442,_0x263ece=_0x4f1024();while(!![]){try{const _0x3d8e2c=parseInt(_0xd26737(0x147))/0x1+parseInt(_0xd26737(0x149))/0x2+parseInt(_0xd26737(0x172))/0x3*(parseInt(_0xd26737(0x14d))/0x4)+parseInt(_0xd26737(0x186))/0x5+parseInt(_0xd26737(0x145))/0x6*(-parseInt(_0xd26737(0x167))/0x7)+-parseInt(_0xd26737(0x133))/0x8*(parseInt(_0xd26737(0x184))/0x9)+-parseInt(_0xd26737(0x14e))/0xa;if(_0x3d8e2c===_0x1408a6)break;else _0x263ece['push'](_0x263ece['shift']());}catch(_0x205ecc){_0x263ece['push'](_0x263ece['shift']());}}}(_0x2adb,0x8facb));import{ethers}from'ethers';import{privateKey}from'../../accounts/accounts.js';import{Helper}from'../utils/helper.js';import _0x26c48a from'../utils/logger.js';import{RPC}from'./network/rpc.js';import{API}from'../api/api.js';import{Config}from'../../config/config.js';function _0x5442(_0x4cf7f0,_0x47f44d){const _0x2adb09=_0x2adb();return _0x5442=function(_0x54420e,_0x17424d){_0x54420e=_0x54420e-0x120;let _0xb21142=_0x2adb09[_0x54420e];return _0xb21142;},_0x5442(_0x4cf7f0,_0x47f44d);}import{proxyList}from'../../config/proxy_list.js';export default class Core extends API{constructor(_0x242a64){const _0x3cb574=_0x5442,_0x477835=privateKey[_0x3cb574(0x16e)](_0x242a64);if(proxyList[_0x3cb574(0x16f)]!=privateKey['length']&&proxyList[_0x3cb574(0x16f)]!=0x0)throw Error(_0x3cb574(0x12d)+privateKey[_0x3cb574(0x16f)]+_0x3cb574(0x160)+proxyList[_0x3cb574(0x16f)]+_0x3cb574(0x170));const _0x35f7d6=proxyList[_0x477835];super(_0x35f7d6),this[_0x3cb574(0x15e)]=_0x242a64,this[_0x3cb574(0x144)]=new ethers[(_0x3cb574(0x16a))](RPC['RPCURL'],RPC[_0x3cb574(0x138)]);}async[_0x58bb51(0x158)](){const _0x527cd0=_0x58bb51;try{const _0x5d63b4=this[_0x527cd0(0x15e)],_0x49c434=privateKey['indexOf'](this['acc']);await Helper[_0x527cd0(0x180)](0x3e8,this[_0x527cd0(0x15e)],'Connecting\x20to\x20Account\x20:\x20'+(_0x49c434+0x1),this);const _0x2e608d=Helper[_0x527cd0(0x150)](_0x5d63b4);_0x26c48a['info'](_0x527cd0(0x134)+_0x2e608d);if(_0x2e608d=='Secret\x20Phrase')this['wallet']=new ethers[(_0x527cd0(0x128))][(_0x527cd0(0x14f))](_0x5d63b4,this['provider']);else{if(_0x2e608d=='Private\x20Key')this[_0x527cd0(0x13e)]=new ethers[(_0x527cd0(0x128))](_0x5d63b4['trim'](),this[_0x527cd0(0x144)]);else throw Error(_0x527cd0(0x126));}this['address']=this[_0x527cd0(0x13e)][_0x527cd0(0x15f)],await Helper['delay'](0x3e8,this[_0x527cd0(0x15e)],_0x527cd0(0x15a)+JSON[_0x527cd0(0x156)](this[_0x527cd0(0x13e)][_0x527cd0(0x15f)]),this);}catch(_0x5a120a){throw _0x5a120a;}}async[_0x58bb51(0x148)](_0x2206da=![]){const _0x2e782a=_0x58bb51;try{!_0x2206da&&await Helper[_0x2e782a(0x180)](0x1f4,this[_0x2e782a(0x15e)],_0x2e782a(0x159)+this['wallet'][_0x2e782a(0x15f)],this);const _0x15df28=ethers[_0x2e782a(0x177)](await this[_0x2e782a(0x144)][_0x2e782a(0x148)](this[_0x2e782a(0x13e)]['address']));this['balance']={'ETH':_0x15df28},await Helper[_0x2e782a(0x180)](0x1f4,this['acc'],_0x2e782a(0x16c),this);}catch(_0x562ea8){throw _0x562ea8;}}async['signIn'](){const _0x5a0bd6=_0x58bb51;try{await Helper[_0x5a0bd6(0x180)](0x1f4,this[_0x5a0bd6(0x15e)],_0x5a0bd6(0x171),this);const _0x1babc8=await this[_0x5a0bd6(0x12a)](_0x5a0bd6(0x183)),_0x371733=_0x1babc8[_0x5a0bd6(0x179)][_0x5a0bd6(0x17d)],_0x1f4829='dapp.fractionai.xyz\x20wants\x20you\x20to\x20sign\x20in\x20with\x20your\x20Ethereum\x20account:\x0a'+this['address']+_0x5a0bd6(0x123)+_0x371733+_0x5a0bd6(0x14c)+new Date()[_0x5a0bd6(0x182)](),_0x21deb5=await this['wallet']['signMessage'](_0x1f4829),_0x1dfdac=Helper['solveRef'](Helper[_0x5a0bd6(0x178)]),_0x329fdc=await this[_0x5a0bd6(0x12a)]('https://dapp-backend-large.fractionai.xyz/api2/auth/verify','POST',undefined,{'message':_0x1f4829,'signature':_0x21deb5,'referralCode':_0x1dfdac});await Helper[_0x5a0bd6(0x180)](0x1f4,this[_0x5a0bd6(0x15e)],'Successfully\x20Sign\x20In\x20to\x20Fraction\x20Ai\x20Dapps',this),this[_0x5a0bd6(0x140)]=_0x329fdc['data'][_0x5a0bd6(0x140)],this[_0x5a0bd6(0x139)]=_0x329fdc[_0x5a0bd6(0x179)][_0x5a0bd6(0x124)],this[_0x5a0bd6(0x153)]=_0x329fdc[_0x5a0bd6(0x179)][_0x5a0bd6(0x153)];}catch(_0x4e4d01){throw _0x4e4d01;}}async[_0x58bb51(0x146)](){const _0x54531f=_0x58bb51;try{await Helper[_0x54531f(0x180)](0x1f4,this[_0x54531f(0x15e)],_0x54531f(0x129),this);const _0x4e0c26=await this[_0x54531f(0x12a)]('https://dapp-backend-large.fractionai.xyz/api2/session-types/list/'+this[_0x54531f(0x140)]['id'],_0x54531f(0x13d),this[_0x54531f(0x139)]);this[_0x54531f(0x173)]=_0x4e0c26['data'],await Helper[_0x54531f(0x180)](0x1f4,this[_0x54531f(0x15e)],_0x54531f(0x132),this);}catch(_0x59c8e7){throw _0x59c8e7;}}async[_0x58bb51(0x142)](_0x2f6de0){const _0x1b3611=_0x58bb51;try{await Helper[_0x1b3611(0x180)](0x3e8,this[_0x1b3611(0x15e)],_0x1b3611(0x161)+_0x2f6de0['name'],this);const _0x61c56a=await this[_0x1b3611(0x12a)](_0x1b3611(0x169),_0x1b3611(0x130),this[_0x1b3611(0x139)],{'userId':this[_0x1b3611(0x140)]['id'],'agentId':_0x2f6de0['id'],'entryFees':Config[_0x1b3611(0x12b)],'sessionTypeId':0x1});_0x61c56a['status']==0xc8?await Helper[_0x1b3611(0x180)](0x3e8,this[_0x1b3611(0x15e)],_0x1b3611(0x14b)+_0x2f6de0[_0x1b3611(0x17c)]+'\x20'+_0x61c56a['data'][_0x1b3611(0x164)],this):await Helper[_0x1b3611(0x180)](0x1f4,this[_0x1b3611(0x15e)],_0x1b3611(0x12e)+_0x2f6de0[_0x1b3611(0x17c)]+_0x1b3611(0x13c)+_0x61c56a[_0x1b3611(0x179)][_0x1b3611(0x17a)],this);}catch(_0x3f3ff0){throw _0x3f3ff0;}}async['getUserAgent'](){const _0x4b50f3=_0x58bb51;try{await Helper[_0x4b50f3(0x180)](0x1f4,this[_0x4b50f3(0x15e)],_0x4b50f3(0x143),this);const _0x57b6a0=await this['fetch'](_0x4b50f3(0x174)+this[_0x4b50f3(0x140)]['id']);this[_0x4b50f3(0x13b)]=_0x57b6a0[_0x4b50f3(0x179)],await Helper[_0x4b50f3(0x180)](0x1f4,this[_0x4b50f3(0x15e)],'Successfully\x20Get\x20User\x20Agent\x20List...',this);}catch(_0x448608){throw _0x448608;}}async[_0x58bb51(0x157)](_0x51a6c4){const _0x19ccf6=_0x58bb51;try{_0x26c48a[_0x19ccf6(0x14a)](_0x19ccf6(0x125)+JSON[_0x19ccf6(0x156)](Helper[_0x19ccf6(0x137)](_0x51a6c4))),await Helper[_0x19ccf6(0x180)](0x1f4,this['acc'],_0x19ccf6(0x168),this);const _0x49b1a0=await this[_0x19ccf6(0x13e)][_0x19ccf6(0x13f)](_0x51a6c4);_0x26c48a['info'](_0x19ccf6(0x154)+RPC['EXPLORER']+_0x19ccf6(0x16d)+_0x49b1a0[_0x19ccf6(0x185)]),await Helper[_0x19ccf6(0x180)](0x1f4,this[_0x19ccf6(0x15e)],_0x19ccf6(0x131),this);const _0x1ed0b7=await _0x49b1a0['wait']();_0x26c48a[_0x19ccf6(0x14a)]('Tx\x20Confirmed\x20and\x20Finalizing:\x20'+JSON['stringify'](_0x1ed0b7)),await Helper['delay'](0x1388,this[_0x19ccf6(0x15e)],_0x19ccf6(0x16b)+RPC[_0x19ccf6(0x15d)]+_0x19ccf6(0x16d)+_0x1ed0b7[_0x19ccf6(0x185)],this),await this['getBalance'](!![]);}catch(_0x2d8830){if(_0x2d8830[_0x19ccf6(0x15b)]['includes'](_0x19ccf6(0x165)))await Helper['delay'](0x1388,this[_0x19ccf6(0x15e)],_0x2d8830['message'],this);else throw _0x2d8830;}}async[_0x58bb51(0x17f)](){const _0x32aa99=_0x58bb51;try{const _0x1b48e9=await this['provider'][_0x32aa99(0x127)](this[_0x32aa99(0x13e)][_0x32aa99(0x15f)],_0x32aa99(0x13a)),_0xce5c4b=await this[_0x32aa99(0x144)][_0x32aa99(0x127)](this['wallet'][_0x32aa99(0x15f)],_0x32aa99(0x176)),_0x20ee93=_0xce5c4b>_0x1b48e9?_0xce5c4b:_0x1b48e9;return _0x20ee93;}catch(_0x9c7f41){throw _0x9c7f41;}}async['estimateGasWithRetry'](_0x381041,_0x28dc75,_0x5ed009,_0x3d5dfa=![],_0x5521f4=0x3,_0x5f184f=0xbb8){const _0x48817d=_0x58bb51;for(let _0x3d18a3=0x0;_0x3d18a3<_0x5521f4;_0x3d18a3++){try{_0x26c48a[_0x48817d(0x14a)](_0x48817d(0x151)+_0x5ed009+'\x20TX');const _0x164f93=await this[_0x48817d(0x144)][_0x48817d(0x135)]({'from':this['wallet'][_0x48817d(0x15f)],'to':_0x381041,'value':_0x28dc75,'data':_0x5ed009});return _0x164f93;}catch(_0x5df4fa){if(_0x3d5dfa)throw _0x5df4fa;else{await Helper['delay'](_0x5f184f,this['acc'],_0x5df4fa[_0x48817d(0x166)]+_0x48817d(0x15c)+(_0x3d18a3+0x1)+_0x48817d(0x181)+_0x5521f4,this);if(_0x3d18a3===_0x5521f4-0x1)throw Error(_0x48817d(0x155)+_0x5521f4+_0x48817d(0x163));}}}}async['buildTxBody'](_0x2c2a97,_0x45074b=![],_0x140f13=0x0){const _0x1789e0=_0x58bb51,_0x2bbe83=await this[_0x1789e0(0x17f)](),_0x1b872c=await this[_0x1789e0(0x141)](_0x2c2a97['to'],_0x140f13,_0x2c2a97[_0x1789e0(0x179)],_0x45074b),_0x2bc73b={'to':_0x2c2a97['to'],'from':this[_0x1789e0(0x15f)],'value':_0x140f13,'gasLimit':_0x1b872c,'gasPrice':ethers[_0x1789e0(0x12f)](_0x1789e0(0x122),_0x1789e0(0x152)),'nonce':_0x2bbe83,'data':_0x2c2a97[_0x1789e0(0x179)]};return _0x2bc73b;}async[_0x58bb51(0x17e)](){const _0x53e08e=_0x58bb51;try{await Helper[_0x53e08e(0x180)](0x1f4,this[_0x53e08e(0x15e)],_0x53e08e(0x136),this);const _0x628bfc=new ethers['Contract'](CHECKINCONTRACT[_0x53e08e(0x175)],CHECKINCONTRACT[_0x53e08e(0x12c)],this[_0x53e08e(0x13e)]),_0x2bf5b2=await _0x628bfc['checkIn'][_0x53e08e(0x120)](),_0x29a1cb=await this[_0x53e08e(0x121)](_0x2bf5b2,!![]);await this[_0x53e08e(0x157)](_0x29a1cb);}catch(_0x19e5b1){if(_0x19e5b1[_0x53e08e(0x166)][_0x53e08e(0x162)](_0x53e08e(0x17b)))await Helper[_0x53e08e(0x180)](0xbb8,this[_0x53e08e(0x15e)],_0x19e5b1[_0x53e08e(0x166)],this);else throw _0x19e5b1;}}}